<!--
	framework de mission du CORP
	http://www.corp-arma.fr
-->

<!DOCTYPE html>

<html lang="fr">

<head>
	<meta charset="utf-8">
	<title>CORP - buildingsOccupation</title>
	<link rel="stylesheet" href="../styles.css">
	<script type="text/javascript" src="../bbcodeParser.js"></script>
</head>

<body>
	<h1 class="DefaultInner w-12 DefaultText DefaultText-topTitle">buildingsOccupation</h1>
	<ul class="DefaultInner w-3">
		<li class="Dependencie Dependencie--module"><a href="../modules/aiMultiplier.html">aiMultiplier</a></li>
		<li class="Dependencie Dependencie--function"><a href="../functions/realShuffle.html">realShuffle</a></li>
	</ul>

	<p class="DefaultInner w-8 DefaultText DefaultText--justify">
		Ce module permet de peupler les bâtiments d'une zone avec un nombre d'IA donné. Configurez les zones et le type d'unités depuis le fichier de configuration <span class="Code-inline">modules/buildingsOccupation/config.hpp</span>.
	</p>

	<!-- configuration -->
	<h2 class="DefaultInner w-12 DefaultText DefaultText-title">Configuration</h2>
	<div class="DefaultInner w-12 Code">
		<p class="Code-inner Code-inner--file">modules/buildingsOccupation/config.hpp</p>
		<p class="Code-inner Code-inner--config">
			<script type="text/javascript">
				document.write(bbcodeParser.bbcodeToHtml(
					'[com]\/\/ activer ou désactiver le module[/com][br]' +
					'enabled = [num]1[/num];[br]' +
					'[br]' +
					'[com]\/\/ si activé, la variable globale "CPR_var_buildingsOccupation_units" sera créée[/com][br]' +
					'[com]\/\/ c\'est un tableau associatif des unités créées regroupées par zones d\'occupation[/com][br]' +
					'[com]\/\/ la variable "CPR_var_buildingsOccupation_ready" vaut vrai une fois que le module a terminé de créer les unités[/com][br]' +
					'return = [num]0[/num];[br]' +
					'[br]' +
					'[com]\/\/ délais en secondes entre la création de deux unités[/com][br]' +
					'[com]\/\/ permet de réduire la charge serveur momentanée[/com][br]' +
					'pause = [num]4[/num];[br]' +
					'[br]' +
					'[com]\/\/ informations sur les zones d\'occupation[/com][br]' +
					'[com]\/\/ sides possibles : West, East, Indep, Civ[/com][br]' +
					'[ckey]class[/ckey] Occupations[hin]: Base[/hin] {[br]' +
					'[tab][ckey]class[/ckey] WestHouse {[br]' +
					'[tab][tab]center[] = {[num]7460.1[/num], [num]7509.3[/num], [num]0[/num]};[br]' +
					'[tab][tab]radius = [num]25[/num];[br]' +
					'[tab][tab]unitsCount = [num]2[/num];[br]' +
					'[tab][tab]side = [str]"Indep"[/str];[br]' +
					'[tab][tab]keepPosition = [num]0.5[/num]; [com]\/\/ pourcentage d\'ia qui ne quittera pas son poste, facultatif, par défaut 0[/com][br]' +
					'[br]' +
					'[tab][tab]units[] = {[br]' +
					'[tab][tab][tab][str]"I_Soldier_unarmed_F"[/str],[br]' +
					'[tab][tab][tab][str]"I_Soldier_AR_F"[/str],[br]' +
					'[tab][tab][tab][str]"I_Soldier_GL_F"[/str][br]' +
					'[tab][tab]};[br]' +
					'[tab]};[br]' +
					'[br]' +
					'[tab][ckey]class[/ckey] EastHouse[hin]: Base[/hin] {[br]' +
					'[tab][tab]center[] = {[num]7585.2[/num], [num]7509.5[/num], [num]0[/num]};[br]' +
					'[tab][tab]radius = [num]25[/num];[br]' +
					'[tab][tab]unitsCount = [num]2[/num];[br]' +
					'[tab][tab]side = [str]"East"[/str];[br]' +
					'[br]' +
					'[tab][tab]units[] = {[br]' +
					'[tab][tab][tab][str]"O_G_Soldier_TL_F"[/str],[br]' +
					'[tab][tab][tab][str]"O_G_Soldier_SL_F"[/str],[br]' +
					'[tab][tab][tab][str]"O_G_Soldier_F"[/str][br]' +
					'[tab][tab]};[br]' +
					'[tab]};[br]' +
					'};'
				));
			</script>
		</p>
	</div>

	<!-- fonctions -->
	<h2 class="DefaultInner w-12 DefaultText DefaultText-title">Fonctions</h2>

	<h3 class="DefaultInner w-12 DefaultText DefaultText-subTitle">Peupler une zone dynamiquement</h3>

	<p class="DefaultInner w-8 DefaultText DefaultText--justify">
		Les zones configurées sont peuplées au démarrage de la mission, si vous souhaitez peupler une zone dynamiquement, à l'exécution d'un déclencheur par exemple, vous pouvez utiliser la fonction <span class="Code-inline">CRP_fnc_buildingsOccupation_occupation</span>.
	</p>

	<div class="DefaultInner w-12 Code">
		<p class="Code-inner Code-inner--file">mission/monScript.sqf</p>
		<p class="Code-inner Code-inner--sqf">
			<script type="text/javascript">
				document.write(bbcodeParser.bbcodeToHtml(
					'[var]_center[/var] = [spec][[/spec][num]7460.1[/num], [num]7509.3[/num], [num]0[/num][spec]][/spec];[br]' +
					'[var]_radius[/var] = [num]25[/num];[br]' +
					'[var]_unitCount[/var] = [num]2[/num];[br]' +
					'[var]_side[/var] = [cmd]west[/cmd];[br]' +
					'[var]_units[/var] = [spec][[/spec][str]"O_G_Soldier_TL_F"[/str], [str]"O_G_Soldier_exp_F"[/str][spec]][/spec];[br]' +
					'[var]_keepPosition[/var] = [num]0.5[/num];[br]' +
					'[br]' +
					'[var]_occupation[/var] = [spec][[/spec][var]_center[/var], [var]_radius[/var], [var]_unitCount[/var], [var]_side[/var], [var]_units[/var], [var]_keepPosition[/var][spec]][/spec] [cmd]call[/cmd] [fnc]CRP_fnc_buildingsOccupation_occupation[/fnc];[br]'
				));
			</script>
		</p>
	</div>

	<p class="DefaultInner w-8 DefaultText DefaultText--justify">
		La variable <span class="Code-inline">CRP_var_buildingsOccupation_occupation</span> est un tableau associatif des zones d'occupation.
	</p>

	<div class="DefaultInner w-12 Code">
		<p class="Code-inner Code-inner--file">mission/monScript.sqf</p>
		<p class="Code-inner Code-inner--sqf">
			<script type="text/javascript">
				document.write(bbcodeParser.bbcodeToHtml(
					'[com]\/\/ [R Alpha 1-1:1,R Alpha 1-2:1][/com][br]' +
					'[var]_westHouseOccupation[/var] = [spec][[/spec][gvar]CRP_var_buildingsOccupation_occupation[/gvar], [str]"WestHouse"[/str][spec]][/spec] [cmd]call[/cmd] [fnc]BIS_fnc_getFromPairs[/fnc];'
				));
			</script>
		</p>
	</div>

	<h3 class="DefaultInner w-12 DefaultText DefaultText-subTitle">Ajouter un nouveau bâtiment</h3>

	<p class="DefaultInner w-8 DefaultText DefaultText--justify">
		Documentation non complète. Si vous observez que des bâtiments ne sont jamais peuplés, cela peut vouloir dire qu'ils ne sont pas dans la librairie du module buildingsOccupation. Il faudra donc les ajouter manuellement en utlisant les fonctions <span class="Code-inline">CRP_fnc_buildingsOccupation_getBuildingInfos</span> et <span class="Code-inline">CRP_fnc_buildingsOccupation_getRelPos</span>. <span class="important">Attention, ces fonctions sont disponibles uniquement dans l'éditeur</span>.
	</p>
</body>

</html>
